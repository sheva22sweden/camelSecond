$(document).ready(function() {

	    // Hidden menu
    $( '.btn-menu, .hidden-menu ul a' ).click( function() {
        if ( $( '.hidden-menu' ).is( ':hidden' ) ) {
            $( '.hidden-menu' ).show();
        } else {
            $( '.hidden-menu' ).hide();
        }
    });

    // modal window

    $( '.modal' ).click( function() {
        if ( $( '.modal__window' ).is( ':hidden' ) ) {
            $( '.modal__window' ).show();
        } else {
            $( '.modal__window' ).hide();
        }
    });
    
    // Page scroll
    $("a[rel='m_PageScroll2id']").mPageScroll2id({
        offset:30
    });

});

var StickyElement = function(node){
  var doc = $(document), 
      fixed = false,
      anchor = node.find('.sticky-anchor'),
      content = node.find('.sticky-content');
  
  var onScroll = function(e){
    var docTop = doc.scrollTop(),
        anchorTop = anchor.offset().top;
    
    console.log('scroll', docTop, anchorTop);
    if(docTop > anchorTop){
      if(!fixed){
        anchor.height(content.outerHeight());
        content.addClass('fixed');        
        fixed = true;
      }
    }  else   {
      if(fixed){
        anchor.height(0);
        content.removeClass('fixed'); 
        fixed = false;
      }
    }
  };
  
  $(window).on('scroll', onScroll);

};

var demo = new StickyElement($('#sticky'));   
